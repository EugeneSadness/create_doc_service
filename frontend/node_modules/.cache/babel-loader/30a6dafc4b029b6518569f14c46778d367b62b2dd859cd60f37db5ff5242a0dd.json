{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{projectsApi}from'../services/api';import'../styles/Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[projects,setProjects]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);const[showAddForm,setShowAddForm]=useState(false);const[newProject,setNewProject]=useState({name:'',repository_url:''});useEffect(()=>{fetchProjects();},[]);const fetchProjects=async()=>{try{setIsLoading(true);const data=await projectsApi.getProjects();setProjects(data);setError(null);}catch(err){setError('Failed to load projects');console.error(err);}finally{setIsLoading(false);}};const handleInputChange=e=>{const{name,value}=e.target;setNewProject(prev=>({...prev,[name]:value}));};const handleAddProject=async e=>{e.preventDefault();try{setIsLoading(true);const createdProject=await projectsApi.createProject(newProject);setProjects(prev=>[...prev,createdProject]);setNewProject({name:'',repository_url:''});setShowAddForm(false);}catch(err){setError('Failed to create project');console.error(err);}finally{setIsLoading(false);}};if(isLoading&&projects.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading projects...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Projects\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-project-button\",onClick:()=>setShowAddForm(!showAddForm),children:showAddForm?'Cancel':'Add Project'})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),showAddForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-project-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add New Project\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddProject,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Project Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:newProject.name,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"repository_url\",children:\"Repository URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"repository_url\",name:\"repository_url\",value:newProject.repository_url,onChange:handleInputChange,placeholder:\"https://github.com/username/repo\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",disabled:isLoading,children:isLoading?'Adding...':'Add Project'})})]})]}),projects.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-projects\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"You don't have any projects yet.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-project-button\",onClick:()=>setShowAddForm(true),children:\"Add Your First Project\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"projects-grid\",children:projects.map(project=>/*#__PURE__*/_jsxs(\"div\",{className:\"project-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:project.name}),/*#__PURE__*/_jsx(\"p\",{className:\"repo-url\",children:project.repository_url}),/*#__PURE__*/_jsxs(\"p\",{className:\"created-at\",children:[\"Added on \",new Date(project.created_at).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"project-actions\",children:[/*#__PURE__*/_jsx(Link,{to:`/projects/${project.id}`,className:\"view-button\",children:\"View Project\"}),project.last_analyzed_at?/*#__PURE__*/_jsx(Link,{to:`/projects/${project.id}/documentation`,className:\"docs-button\",children:\"View Documentation\"}):/*#__PURE__*/_jsx(Link,{to:`/projects/${project.id}`,className:\"generate-button\",children:\"Generate Documentation\"})]})]},project.id))})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","projectsApi","jsx","_jsx","jsxs","_jsxs","Dashboard","projects","setProjects","isLoading","setIsLoading","error","setError","showAddForm","setShowAddForm","newProject","setNewProject","name","repository_url","fetchProjects","data","getProjects","err","console","handleInputChange","e","value","target","prev","handleAddProject","preventDefault","createdProject","createProject","length","className","children","onClick","onSubmit","htmlFor","type","id","onChange","required","placeholder","disabled","map","project","Date","created_at","toLocaleDateString","to","last_analyzed_at"],"sources":["/home/eugene/web_labs/create_doc_service/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { projectsApi } from '../services/api';\nimport '../styles/Dashboard.css';\n\nconst Dashboard = () => {\n  const [projects, setProjects] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newProject, setNewProject] = useState({ name: '', repository_url: '' });\n  \n  useEffect(() => {\n    fetchProjects();\n  }, []);\n  \n  const fetchProjects = async () => {\n    try {\n      setIsLoading(true);\n      const data = await projectsApi.getProjects();\n      setProjects(data);\n      setError(null);\n    } catch (err) {\n      setError('Failed to load projects');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setNewProject(prev => ({ ...prev, [name]: value }));\n  };\n  \n  const handleAddProject = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setIsLoading(true);\n      const createdProject = await projectsApi.createProject(newProject);\n      setProjects(prev => [...prev, createdProject]);\n      setNewProject({ name: '', repository_url: '' });\n      setShowAddForm(false);\n    } catch (err) {\n      setError('Failed to create project');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  if (isLoading && projects.length === 0) {\n    return <div className=\"loading\">Loading projects...</div>;\n  }\n  \n  return (\n    <div className=\"dashboard-container\">\n      <div className=\"dashboard-header\">\n        <h1>Your Projects</h1>\n        <button \n          className=\"add-project-button\"\n          onClick={() => setShowAddForm(!showAddForm)}\n        >\n          {showAddForm ? 'Cancel' : 'Add Project'}\n        </button>\n      </div>\n      \n      {error && <div className=\"error-message\">{error}</div>}\n      \n      {showAddForm && (\n        <div className=\"add-project-form\">\n          <h2>Add New Project</h2>\n          <form onSubmit={handleAddProject}>\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">Project Name</label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                value={newProject.name}\n                onChange={handleInputChange}\n                required\n              />\n            </div>\n            \n            <div className=\"form-group\">\n              <label htmlFor=\"repository_url\">Repository URL</label>\n              <input\n                type=\"url\"\n                id=\"repository_url\"\n                name=\"repository_url\"\n                value={newProject.repository_url}\n                onChange={handleInputChange}\n                placeholder=\"https://github.com/username/repo\"\n                required\n              />\n            </div>\n            \n            <div className=\"form-actions\">\n              <button \n                type=\"submit\" \n                className=\"submit-button\" \n                disabled={isLoading}\n              >\n                {isLoading ? 'Adding...' : 'Add Project'}\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n      \n      {projects.length === 0 ? (\n        <div className=\"no-projects\">\n          <p>You don't have any projects yet.</p>\n          <button \n            className=\"add-project-button\"\n            onClick={() => setShowAddForm(true)}\n          >\n            Add Your First Project\n          </button>\n        </div>\n      ) : (\n        <div className=\"projects-grid\">\n          {projects.map(project => (\n            <div key={project.id} className=\"project-card\">\n              <h3>{project.name}</h3>\n              <p className=\"repo-url\">{project.repository_url}</p>\n              <p className=\"created-at\">\n                Added on {new Date(project.created_at).toLocaleDateString()}\n              </p>\n              <div className=\"project-actions\">\n                <Link \n                  to={`/projects/${project.id}`} \n                  className=\"view-button\"\n                >\n                  View Project\n                </Link>\n                {project.last_analyzed_at ? (\n                  <Link \n                    to={`/projects/${project.id}/documentation`} \n                    className=\"docs-button\"\n                  >\n                    View Documentation\n                  </Link>\n                ) : (\n                  <Link \n                    to={`/projects/${project.id}`} \n                    className=\"generate-button\"\n                  >\n                    Generate Documentation\n                  </Link>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}