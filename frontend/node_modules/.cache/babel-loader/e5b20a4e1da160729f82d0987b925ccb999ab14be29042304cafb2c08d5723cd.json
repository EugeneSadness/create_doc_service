{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{projectsApi}from'../services/api';import'../styles/ProjectView.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProjectView=()=>{const{id}=useParams();const navigate=useNavigate();const[project,setProject]=useState(null);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);const[isGenerating,setIsGenerating]=useState(false);useEffect(()=>{fetchProject();},[id]);const fetchProject=async()=>{try{setIsLoading(true);const data=await projectsApi.getProject(id);setProject(data);setError(null);}catch(err){setError('Failed to load project');console.error(err);}finally{setIsLoading(false);}};const handleGenerateDocumentation=async()=>{try{setIsGenerating(true);await projectsApi.generateDocumentation(id);await fetchProject();navigate(`/projects/${id}/documentation`);}catch(err){setError('Failed to generate documentation');console.error(err);}finally{setIsGenerating(false);}};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading project...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error});}if(!project){return/*#__PURE__*/_jsx(\"div\",{className:\"not-found\",children:\"Project not found\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"project-view-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"project-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:project.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"project-meta\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"repo-url\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Repository:\"}),\" \",project.repository_url]}),/*#__PURE__*/_jsxs(\"p\",{className:\"created-at\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Added on:\"}),\" \",new Date(project.created_at).toLocaleDateString()]}),project.last_analyzed_at&&/*#__PURE__*/_jsxs(\"p\",{className:\"analyzed-at\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Last analyzed:\"}),\" \",new Date(project.last_analyzed_at).toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"project-actions\",children:[project.last_analyzed_at?/*#__PURE__*/_jsx(\"button\",{className:\"view-docs-button\",onClick:()=>navigate(`/projects/${id}/documentation`),children:\"View Documentation\"}):null,/*#__PURE__*/_jsx(\"button\",{className:\"generate-button\",onClick:handleGenerateDocumentation,disabled:isGenerating,children:isGenerating?'Generating...':project.last_analyzed_at?'Regenerate Documentation':'Generate Documentation'})]}),isGenerating&&/*#__PURE__*/_jsxs(\"div\",{className:\"generation-info\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Generating documentation for your project. This may take a few minutes depending on the size of your repository.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-indicator\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"back-link\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),children:\"Back to Dashboard\"})})]});};export default ProjectView;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","projectsApi","jsx","_jsx","jsxs","_jsxs","ProjectView","id","navigate","project","setProject","isLoading","setIsLoading","error","setError","isGenerating","setIsGenerating","fetchProject","data","getProject","err","console","handleGenerateDocumentation","generateDocumentation","className","children","name","repository_url","Date","created_at","toLocaleDateString","last_analyzed_at","toLocaleString","onClick","disabled"],"sources":["/home/eugene/web_labs/create_doc_service/frontend/src/pages/ProjectView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { projectsApi } from '../services/api';\nimport '../styles/ProjectView.css';\n\nconst ProjectView = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  \n  const [project, setProject] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isGenerating, setIsGenerating] = useState(false);\n  \n  useEffect(() => {\n    fetchProject();\n  }, [id]);\n  \n  const fetchProject = async () => {\n    try {\n      setIsLoading(true);\n      const data = await projectsApi.getProject(id);\n      setProject(data);\n      setError(null);\n    } catch (err) {\n      setError('Failed to load project');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  const handleGenerateDocumentation = async () => {\n    try {\n      setIsGenerating(true);\n      await projectsApi.generateDocumentation(id);\n      await fetchProject();\n      navigate(`/projects/${id}/documentation`);\n    } catch (err) {\n      setError('Failed to generate documentation');\n      console.error(err);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  \n  if (isLoading) {\n    return <div className=\"loading\">Loading project...</div>;\n  }\n  \n  if (error) {\n    return <div className=\"error-message\">{error}</div>;\n  }\n  \n  if (!project) {\n    return <div className=\"not-found\">Project not found</div>;\n  }\n  \n  return (\n    <div className=\"project-view-container\">\n      <div className=\"project-header\">\n        <h1>{project.name}</h1>\n        <div className=\"project-meta\">\n          <p className=\"repo-url\">\n            <strong>Repository:</strong> {project.repository_url}\n          </p>\n          <p className=\"created-at\">\n            <strong>Added on:</strong> {new Date(project.created_at).toLocaleDateString()}\n          </p>\n          {project.last_analyzed_at && (\n            <p className=\"analyzed-at\">\n              <strong>Last analyzed:</strong> {new Date(project.last_analyzed_at).toLocaleString()}\n            </p>\n          )}\n        </div>\n      </div>\n      \n      <div className=\"project-actions\">\n        {project.last_analyzed_at ? (\n          <button \n            className=\"view-docs-button\"\n            onClick={() => navigate(`/projects/${id}/documentation`)}\n          >\n            View Documentation\n          </button>\n        ) : null}\n        \n        <button \n          className=\"generate-button\"\n          onClick={handleGenerateDocumentation}\n          disabled={isGenerating}\n        >\n          {isGenerating ? 'Generating...' : (project.last_analyzed_at ? 'Regenerate Documentation' : 'Generate Documentation')}\n        </button>\n      </div>\n      \n      {isGenerating && (\n        <div className=\"generation-info\">\n          <p>Generating documentation for your project. This may take a few minutes depending on the size of your repository.</p>\n          <div className=\"progress-indicator\"></div>\n        </div>\n      )}\n      \n      <div className=\"back-link\">\n        <button onClick={() => navigate('/')}>\n          Back to Dashboard\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectView; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}